<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>GEOS: geos::index::strtree::STRtree Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GEOS
   &#160;<span id="projectnumber">3.7.0dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegeos.html">geos</a></li><li class="navelem"><a class="el" href="namespacegeos_1_1index.html">index</a></li><li class="navelem"><a class="el" href="namespacegeos_1_1index_1_1strtree.html">strtree</a></li><li class="navelem"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html">STRtree</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classgeos_1_1index_1_1strtree_1_1STRtree-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">geos::index::strtree::STRtree Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A query-only R-tree created using the Sort-Tile-Recursive (STR) algorithm. For two-dimensional spatial data.  
 <a href="classgeos_1_1index_1_1strtree_1_1STRtree.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="STRtree_8h_source.html">STRtree.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for geos::index::strtree::STRtree:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgeos_1_1index_1_1strtree_1_1STRtree.png" usemap="#geos::index::strtree::STRtree_map" alt=""/>
  <map id="geos::index::strtree::STRtree_map" name="geos::index::strtree::STRtree_map">
<area href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html" title="Base class for STRtree and SIRtree. " alt="geos::index::strtree::AbstractSTRtree" shape="rect" coords="0,0,215,24"/>
<area href="classgeos_1_1index_1_1SpatialIndex.html" title="Abstract class defines basic insertion and query operations supported by classes implementing spatial..." alt="geos::index::SpatialIndex" shape="rect" coords="225,0,440,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree_1_1STRIntersectsOp.html">STRIntersectsOp</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a376945cf048172a984e8d02e36f0b9a2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a376945cf048172a984e8d02e36f0b9a2">~STRtree</a> () override</td></tr>
<tr class="separator:a376945cf048172a984e8d02e36f0b9a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b02dba1234bda7c95d988b02c4e4cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a07b02dba1234bda7c95d988b02c4e4cc">STRtree</a> (std::size_t <a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a8384ae96fea39712dbc5f051418d7a52">nodeCapacity</a>=10)</td></tr>
<tr class="separator:a07b02dba1234bda7c95d988b02c4e4cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ca89d79af23375493acbc8286e7e3e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a9ca89d79af23375493acbc8286e7e3e4">insert</a> (const <a class="el" href="classgeos_1_1geom_1_1Envelope.html">geom::Envelope</a> *itemEnv, void *item) override</td></tr>
<tr class="memdesc:a9ca89d79af23375493acbc8286e7e3e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a spatial item with an extent specified by the given Envelope to the index.  <a href="#a9ca89d79af23375493acbc8286e7e3e4">More...</a><br /></td></tr>
<tr class="separator:a9ca89d79af23375493acbc8286e7e3e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa31a264493ad5a307769c1feb67d1371"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#aa31a264493ad5a307769c1feb67d1371">query</a> (const <a class="el" href="classgeos_1_1geom_1_1Envelope.html">geom::Envelope</a> *searchEnv, std::vector&lt; void * &gt; &amp;matches) override</td></tr>
<tr class="memdesc:aa31a264493ad5a307769c1feb67d1371"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queries the index for all items whose extents intersect the given search Envelope.  <a href="#aa31a264493ad5a307769c1feb67d1371">More...</a><br /></td></tr>
<tr class="separator:aa31a264493ad5a307769c1feb67d1371"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e3e30e9905a1abe0cd2db1c2c98d32f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a4e3e30e9905a1abe0cd2db1c2c98d32f">query</a> (const <a class="el" href="classgeos_1_1geom_1_1Envelope.html">geom::Envelope</a> *searchEnv, <a class="el" href="classgeos_1_1index_1_1ItemVisitor.html">ItemVisitor</a> &amp;visitor) override</td></tr>
<tr class="memdesc:a4e3e30e9905a1abe0cd2db1c2c98d32f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queries the index for all items whose extents intersect the given search Envelope and applies an <a class="el" href="classgeos_1_1index_1_1ItemVisitor.html" title="A visitor for items in an index. ">ItemVisitor</a> to them.  <a href="#a4e3e30e9905a1abe0cd2db1c2c98d32f">More...</a><br /></td></tr>
<tr class="separator:a4e3e30e9905a1abe0cd2db1c2c98d32f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1da70fab16df6dbe70cce34842150b35"><td class="memItemLeft" align="right" valign="top">const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a1da70fab16df6dbe70cce34842150b35">nearestNeighbour</a> (const <a class="el" href="classgeos_1_1geom_1_1Envelope.html">geom::Envelope</a> *env, const void *item, <a class="el" href="classgeos_1_1index_1_1strtree_1_1ItemDistance.html">ItemDistance</a> *itemDist)</td></tr>
<tr class="separator:a1da70fab16df6dbe70cce34842150b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2dc1353f25cd79ead4c1d927641b051"><td class="memItemLeft" align="right" valign="top">std::pair&lt; const void *, const void * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#aa2dc1353f25cd79ead4c1d927641b051">nearestNeighbour</a> (<a class="el" href="classgeos_1_1index_1_1strtree_1_1BoundablePair.html">BoundablePair</a> *initBndPair)</td></tr>
<tr class="separator:aa2dc1353f25cd79ead4c1d927641b051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a278c40e7274eff5da250511ef7687281"><td class="memItemLeft" align="right" valign="top">std::pair&lt; const void *, const void * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a278c40e7274eff5da250511ef7687281">nearestNeighbour</a> (<a class="el" href="classgeos_1_1index_1_1strtree_1_1ItemDistance.html">ItemDistance</a> *itemDist)</td></tr>
<tr class="separator:a278c40e7274eff5da250511ef7687281"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0913bc4e3dee626851754d4e1bf56f07"><td class="memItemLeft" align="right" valign="top">std::pair&lt; const void *, const void * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a0913bc4e3dee626851754d4e1bf56f07">nearestNeighbour</a> (<a class="el" href="classgeos_1_1index_1_1strtree_1_1BoundablePair.html">BoundablePair</a> *initBndPair, double maxDistance)</td></tr>
<tr class="separator:a0913bc4e3dee626851754d4e1bf56f07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba33c08df3b7aef5fd95601a4f0d45c"><td class="memItemLeft" align="right" valign="top">std::pair&lt; const void *, const void * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#aeba33c08df3b7aef5fd95601a4f0d45c">nearestNeighbour</a> (<a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html">STRtree</a> *tree, <a class="el" href="classgeos_1_1index_1_1strtree_1_1ItemDistance.html">ItemDistance</a> *itemDist)</td></tr>
<tr class="separator:aeba33c08df3b7aef5fd95601a4f0d45c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac245d85d6fd3dad87c2628834e790d72"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#ac245d85d6fd3dad87c2628834e790d72">remove</a> (const <a class="el" href="classgeos_1_1geom_1_1Envelope.html">geom::Envelope</a> *itemEnv, void *item) override</td></tr>
<tr class="memdesc:ac245d85d6fd3dad87c2628834e790d72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a single item from the tree.  <a href="#ac245d85d6fd3dad87c2628834e790d72">More...</a><br /></td></tr>
<tr class="separator:ac245d85d6fd3dad87c2628834e790d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8046ce3b2f6b7f772cf1b74c2a9cb1f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgeos_1_1index_1_1strtree_1_1ItemsList.html">ItemsList</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a8046ce3b2f6b7f772cf1b74c2a9cb1f4">itemsTree</a> ()</td></tr>
<tr class="separator:a8046ce3b2f6b7f772cf1b74c2a9cb1f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c8f57f862629ce9e00bcaa16083dc57"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a2c8f57f862629ce9e00bcaa16083dc57">query</a> (const void *searchBounds, const <a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html">AbstractNode</a> *node, std::vector&lt; void * &gt; *matches)</td></tr>
<tr class="separator:a2c8f57f862629ce9e00bcaa16083dc57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a394af6e533671f4ffbdc133516c54eec"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a394af6e533671f4ffbdc133516c54eec">boundablesAtLevel</a> (int level, <a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html">AbstractNode</a> *top, <a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> *boundables)</td></tr>
<tr class="separator:a394af6e533671f4ffbdc133516c54eec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa3ef55be879ccced398b802f2975704"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aaa3ef55be879ccced398b802f2975704">build</a> ()</td></tr>
<tr class="separator:aaa3ef55be879ccced398b802f2975704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a798f7ce97bae7d68f6c554d2e5d0d178"><td class="memItemLeft" align="right" valign="top">virtual std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a798f7ce97bae7d68f6c554d2e5d0d178">getNodeCapacity</a> ()</td></tr>
<tr class="separator:a798f7ce97bae7d68f6c554d2e5d0d178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19bcfdef908e46bd2c51ceb98922f7c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a19bcfdef908e46bd2c51ceb98922f7c0">iterate</a> (<a class="el" href="classgeos_1_1index_1_1ItemVisitor.html">ItemVisitor</a> &amp;visitor)</td></tr>
<tr class="separator:a19bcfdef908e46bd2c51ceb98922f7c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ac935345cd5faba9509670304282b57d9"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#ac935345cd5faba9509670304282b57d9">avg</a> (double a, double b)</td></tr>
<tr class="separator:ac935345cd5faba9509670304282b57d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d5ba9565a68d11d80083cd1babffebe"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a7d5ba9565a68d11d80083cd1babffebe">centreY</a> (const <a class="el" href="classgeos_1_1geom_1_1Envelope.html">geom::Envelope</a> *e)</td></tr>
<tr class="separator:a7d5ba9565a68d11d80083cd1babffebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4d74ee369b39c133df7bc701a85082b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aa4d74ee369b39c133df7bc701a85082b">compareDoubles</a> (double a, double b)</td></tr>
<tr class="separator:aa4d74ee369b39c133df7bc701a85082b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a5ed71bc5784f19478b4f0ac07201f87d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html">AbstractNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a5ed71bc5784f19478b4f0ac07201f87d">createNode</a> (int level) override</td></tr>
<tr class="separator:a5ed71bc5784f19478b4f0ac07201f87d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85c88a85336843827b03b5aa1db2749d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_1_1IntersectsOp.html">IntersectsOp</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a85c88a85336843827b03b5aa1db2749d">getIntersectsOp</a> () override</td></tr>
<tr class="separator:a85c88a85336843827b03b5aa1db2749d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6624ee940900d8e316ff39bf72d304b3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a6624ee940900d8e316ff39bf72d304b3">remove</a> (const void *itemEnv, void *item)</td></tr>
<tr class="memdesc:a6624ee940900d8e316ff39bf72d304b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Also builds the tree, if necessary.  <a href="#a6624ee940900d8e316ff39bf72d304b3">More...</a><br /></td></tr>
<tr class="separator:a6624ee940900d8e316ff39bf72d304b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bdb214d9b11f90c832dae0f5dcca252"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html">AbstractNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a8bdb214d9b11f90c832dae0f5dcca252">lastNode</a> (<a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> *nodeList)</td></tr>
<tr class="separator:a8bdb214d9b11f90c832dae0f5dcca252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb3489846cfa41303860a38d285b2d13"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html">AbstractNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#afb3489846cfa41303860a38d285b2d13">getRoot</a> ()</td></tr>
<tr class="separator:afb3489846cfa41303860a38d285b2d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ad145fa30d494e56f453f4c6fdb3a8b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a3ad145fa30d494e56f453f4c6fdb3a8b">insert</a> (const void *bounds, void *item)</td></tr>
<tr class="memdesc:a3ad145fa30d494e56f453f4c6fdb3a8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Also builds the tree, if necessary.  <a href="#a3ad145fa30d494e56f453f4c6fdb3a8b">More...</a><br /></td></tr>
<tr class="separator:a3ad145fa30d494e56f453f4c6fdb3a8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a668b51c0354bee9934ebeca13f68d8b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a668b51c0354bee9934ebeca13f68d8b1">query</a> (const void *searchBounds, std::vector&lt; void * &gt; &amp;foundItems)</td></tr>
<tr class="memdesc:a668b51c0354bee9934ebeca13f68d8b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Also builds the tree, if necessary.  <a href="#a668b51c0354bee9934ebeca13f68d8b1">More...</a><br /></td></tr>
<tr class="separator:a668b51c0354bee9934ebeca13f68d8b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41854d8905858081f777adc567ad8599"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a41854d8905858081f777adc567ad8599">query</a> (const void *searchBounds, <a class="el" href="classgeos_1_1index_1_1ItemVisitor.html">ItemVisitor</a> &amp;visitor)</td></tr>
<tr class="memdesc:a41854d8905858081f777adc567ad8599"><td class="mdescLeft">&#160;</td><td class="mdescRight">Also builds the tree, if necessary.  <a href="#a41854d8905858081f777adc567ad8599">More...</a><br /></td></tr>
<tr class="separator:a41854d8905858081f777adc567ad8599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab16734e8f2c42ccdc04cac4dd2333256"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#ab16734e8f2c42ccdc04cac4dd2333256">query</a> (const void *searchBounds, const <a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html">AbstractNode</a> &amp;node, <a class="el" href="classgeos_1_1index_1_1ItemVisitor.html">ItemVisitor</a> &amp;visitor)</td></tr>
<tr class="separator:ab16734e8f2c42ccdc04cac4dd2333256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32f403b59ef72a181eab4a85eeb5f365"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a32f403b59ef72a181eab4a85eeb5f365">boundablesAtLevel</a> (int level)</td></tr>
<tr class="separator:a32f403b59ef72a181eab4a85eeb5f365"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:af48aca2dd2ec8574d2a66b954326b2d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html">AbstractNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">root</a></td></tr>
<tr class="separator:af48aca2dd2ec8574d2a66b954326b2d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8972990d9e6e5c5c43d2d79a02188ee"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html">AbstractNode</a> * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#ac8972990d9e6e5c5c43d2d79a02188ee">nodes</a></td></tr>
<tr class="separator:ac8972990d9e6e5c5c43d2d79a02188ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8384ae96fea39712dbc5f051418d7a52"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a8384ae96fea39712dbc5f051418d7a52">nodeCapacity</a></td></tr>
<tr class="separator:a8384ae96fea39712dbc5f051418d7a52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a6fcb97fa0fca6be317d9178d97d6eb51"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a6fcb97fa0fca6be317d9178d97d6eb51">createParentBoundables</a> (<a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> *childBoundables, int newLevel) override</td></tr>
<tr class="separator:a6fcb97fa0fca6be317d9178d97d6eb51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04564b9c2c2a432df77c2f552ba7dd74"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a04564b9c2c2a432df77c2f552ba7dd74">createParentBoundablesFromVerticalSlices</a> (std::vector&lt; <a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> * &gt; *<a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#ab7fe3cf7f7c15672b13769c61ee2970e">verticalSlices</a>, int newLevel)</td></tr>
<tr class="separator:a04564b9c2c2a432df77c2f552ba7dd74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf69e9ef45c5490b0a2ffdf3d291b8da"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#adf69e9ef45c5490b0a2ffdf3d291b8da">sortBoundables</a> (const <a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> *input) override</td></tr>
<tr class="separator:adf69e9ef45c5490b0a2ffdf3d291b8da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1145234c109f01e23734da8fca1dd99b"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a1145234c109f01e23734da8fca1dd99b">createParentBoundablesFromVerticalSlice</a> (<a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> *childBoundables, int newLevel)</td></tr>
<tr class="separator:a1145234c109f01e23734da8fca1dd99b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7fe3cf7f7c15672b13769c61ee2970e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#ab7fe3cf7f7c15672b13769c61ee2970e">verticalSlices</a> (<a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> *childBoundables, size_t sliceCount)</td></tr>
<tr class="separator:ab7fe3cf7f7c15672b13769c61ee2970e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aeeefc3bd447342e9b4be2d8123487644"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree_1_1STRIntersectsOp.html">STRIntersectsOp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#aeeefc3bd447342e9b4be2d8123487644">intersectsOp</a></td></tr>
<tr class="separator:aeeefc3bd447342e9b4be2d8123487644"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A query-only R-tree created using the Sort-Tile-Recursive (STR) algorithm. For two-dimensional spatial data. </p>
<p>The STR packed R-tree is simple to implement and maximizes space utilization; that is, as many leaves as possible are filled to capacity. Overlap between nodes is far less than in a basic R-tree. However, once the tree has been built (explicitly or on the first call to <a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#aa31a264493ad5a307769c1feb67d1371" title="Queries the index for all items whose extents intersect the given search Envelope. ">query</a>), items may not be added or removed.</p>
<p>Described in: P. Rigaux, Michel Scholl and Agnes Voisard. Spatial Databases With Application To GIS. Morgan Kaufmann, San Francisco, 2002. </p>

<p>Definition at line <a class="el" href="STRtree_8h_source.html#l00064">64</a> of file <a class="el" href="STRtree_8h_source.html">STRtree.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a376945cf048172a984e8d02e36f0b9a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">geos::index::strtree::STRtree::~STRtree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="STRtree_8cpp_source.html#l00098">98</a> of file <a class="el" href="STRtree_8cpp_source.html">STRtree.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a07b02dba1234bda7c95d988b02c4e4cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">geos::index::strtree::STRtree::STRtree </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>nodeCapacity</em> = <code>10</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructs an <a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html" title="A query-only R-tree created using the Sort-Tile-Recursive (STR) algorithm. For two-dimensional spatia...">STRtree</a> with the given maximum number of child nodes that a node may have </p>

<p>Definition at line <a class="el" href="STRtree_8cpp_source.html#l00093">93</a> of file <a class="el" href="STRtree_8cpp_source.html">STRtree.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                                   : <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a4e9f5ca0fec31511dddfe7ba7acaee22">AbstractSTRtree</a>(<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a8384ae96fea39712dbc5f051418d7a52">nodeCapacity</a>)</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a4e9f5ca0fec31511dddfe7ba7acaee22"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a4e9f5ca0fec31511dddfe7ba7acaee22">geos::index::strtree::AbstractSTRtree::AbstractSTRtree</a></div><div class="ttdeci">AbstractSTRtree(std::size_t newNodeCapacity)</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00250">AbstractSTRtree.h:250</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a8384ae96fea39712dbc5f051418d7a52"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a8384ae96fea39712dbc5f051418d7a52">geos::index::strtree::AbstractSTRtree::nodeCapacity</a></div><div class="ttdeci">std::size_t nodeCapacity</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00233">AbstractSTRtree.h:233</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac935345cd5faba9509670304282b57d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double geos::index::strtree::STRtree::avg </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="STRtree_8h_source.html#l00126">126</a> of file <a class="el" href="STRtree_8h_source.html">STRtree.h</a>.</p>

<p>Referenced by <a class="el" href="STRtree_8h_source.html#l00130">centreY()</a>.</p>
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                                        {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">return</span> (a + b) / 2.0;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a32f403b59ef72a181eab4a85eeb5f365"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> &gt; geos::index::strtree::AbstractSTRtree::boundablesAtLevel </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AbstractSTRtree_8cpp_source.html#l00308">308</a> of file <a class="el" href="AbstractSTRtree_8cpp_source.html">AbstractSTRtree.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;{</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  std::unique_ptr&lt;BoundableList&gt; boundables ( <span class="keyword">new</span> <a class="code" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a>() );</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a32f403b59ef72a181eab4a85eeb5f365">boundablesAtLevel</a>(level, <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">root</a>, boundables.get());</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">return</span> boundables;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a32f403b59ef72a181eab4a85eeb5f365"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a32f403b59ef72a181eab4a85eeb5f365">geos::index::strtree::AbstractSTRtree::boundablesAtLevel</a></div><div class="ttdeci">std::unique_ptr&lt; BoundableList &gt; boundablesAtLevel(int level)</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8cpp_source.html#l00308">AbstractSTRtree.cpp:308</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_af48aca2dd2ec8574d2a66b954326b2d1"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">geos::index::strtree::AbstractSTRtree::root</a></div><div class="ttdeci">AbstractNode * root</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00182">AbstractSTRtree.h:182</a></div></div>
<div class="ttc" id="namespacegeos_1_1index_1_1strtree_html_add68ce1c4a60ff15e78bb77f47605dbe"><div class="ttname"><a href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">geos::index::strtree::BoundableList</a></div><div class="ttdeci">std::vector&lt; Boundable * &gt; BoundableList</div><div class="ttdoc">A list of boundables. TODO: use a list. </div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00044">AbstractSTRtree.h:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a394af6e533671f4ffbdc133516c54eec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geos::index::strtree::AbstractSTRtree::boundablesAtLevel </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html">AbstractNode</a> *&#160;</td>
          <td class="paramname"><em>top</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> *&#160;</td>
          <td class="paramname"><em>boundables</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>-1 to get items </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="AbstractSTRtree_8cpp_source.html#l00317">317</a> of file <a class="el" href="AbstractSTRtree_8cpp_source.html">AbstractSTRtree.cpp</a>.</p>

<p>References <a class="el" href="AbstractNode_8h_source.html#l00052">geos::index::strtree::AbstractNode::getChildBoundables()</a>, and <a class="el" href="AbstractNode_8cpp_source.html#l00055">geos::index::strtree::AbstractNode::getLevel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;{</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  assert(level&gt;-2);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">if</span> (top-&gt;getLevel()==level)</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    boundables-&gt;push_back(top);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  assert(top);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a>&amp; vb = *(top-&gt;getChildBoundables());</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">for</span>(BoundableList::const_iterator i=vb.begin(), e=vb.end();</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      i!=e; ++i)</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  {</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    Boundable* boundable=*i;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">typeid</span>(*boundable)==<span class="keyword">typeid</span>(AbstractNode))</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a32f403b59ef72a181eab4a85eeb5f365">boundablesAtLevel</a>(level, (AbstractNode*)boundable,</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        boundables);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      assert(<span class="keyword">typeid</span>(*boundable)==<span class="keyword">typeid</span>(ItemBoundable));</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keywordflow">if</span> (level==-1)</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        boundables-&gt;push_back(boundable);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keywordflow">return</span>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a32f403b59ef72a181eab4a85eeb5f365"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a32f403b59ef72a181eab4a85eeb5f365">geos::index::strtree::AbstractSTRtree::boundablesAtLevel</a></div><div class="ttdeci">std::unique_ptr&lt; BoundableList &gt; boundablesAtLevel(int level)</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8cpp_source.html#l00308">AbstractSTRtree.cpp:308</a></div></div>
<div class="ttc" id="namespacegeos_1_1index_1_1strtree_html_add68ce1c4a60ff15e78bb77f47605dbe"><div class="ttname"><a href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">geos::index::strtree::BoundableList</a></div><div class="ttdeci">std::vector&lt; Boundable * &gt; BoundableList</div><div class="ttdoc">A list of boundables. TODO: use a list. </div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00044">AbstractSTRtree.h:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaa3ef55be879ccced398b802f2975704"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geos::index::strtree::AbstractSTRtree::build </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates parent nodes, grandparent nodes, and so forth up to the root node, for the data that has been inserted into the tree. Can only be called once, and thus can be called only after all of the data has been inserted into the tree. </p>

<p>Definition at line <a class="el" href="AbstractSTRtree_8cpp_source.html#l00056">56</a> of file <a class="el" href="AbstractSTRtree_8cpp_source.html">AbstractSTRtree.cpp</a>.</p>

<p>Referenced by <a class="el" href="STRtree_8cpp_source.html#l00189">nearestNeighbour()</a>.</p>
<div class="fragment"><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aead72ce5f94da7b9ecab9191892ed3ea">built</a>)</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">root</a>=(<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a71f79716bf10c2bcacfa3777dd062d53">itemBoundables</a>-&gt;empty()?<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#ac2a8917eb9715dd78e1ac1a5d3791f80">createNode</a>(0):<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aed3b6fc1d03127c7181672d81595f4aa">createHigherLevels</a>(<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a71f79716bf10c2bcacfa3777dd062d53">itemBoundables</a>,-1));</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aead72ce5f94da7b9ecab9191892ed3ea">built</a>=<span class="keyword">true</span>;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_ac2a8917eb9715dd78e1ac1a5d3791f80"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#ac2a8917eb9715dd78e1ac1a5d3791f80">geos::index::strtree::AbstractSTRtree::createNode</a></div><div class="ttdeci">virtual AbstractNode * createNode(int level)=0</div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_af48aca2dd2ec8574d2a66b954326b2d1"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">geos::index::strtree::AbstractSTRtree::root</a></div><div class="ttdeci">AbstractNode * root</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00182">AbstractSTRtree.h:182</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_aed3b6fc1d03127c7181672d81595f4aa"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aed3b6fc1d03127c7181672d81595f4aa">geos::index::strtree::AbstractSTRtree::createHigherLevels</a></div><div class="ttdeci">virtual AbstractNode * createHigherLevels(BoundableList *boundablesOfALevel, int level)</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8cpp_source.html#l00096">AbstractSTRtree.cpp:96</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a71f79716bf10c2bcacfa3777dd062d53"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a71f79716bf10c2bcacfa3777dd062d53">geos::index::strtree::AbstractSTRtree::itemBoundables</a></div><div class="ttdeci">BoundableList * itemBoundables</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00136">AbstractSTRtree.h:136</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_aead72ce5f94da7b9ecab9191892ed3ea"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aead72ce5f94da7b9ecab9191892ed3ea">geos::index::strtree::AbstractSTRtree::built</a></div><div class="ttdeci">bool built</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00135">AbstractSTRtree.h:135</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7d5ba9565a68d11d80083cd1babffebe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double geos::index::strtree::STRtree::centreY </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgeos_1_1geom_1_1Envelope.html">geom::Envelope</a> *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="STRtree_8h_source.html#l00130">130</a> of file <a class="el" href="STRtree_8h_source.html">STRtree.h</a>.</p>

<p>References <a class="el" href="STRtree_8h_source.html#l00126">avg()</a>, <a class="el" href="Envelope_8inl_source.html#l00031">geos::geom::Envelope::getMaxY()</a>, and <a class="el" href="Envelope_8inl_source.html#l00039">geos::geom::Envelope::getMinY()</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                                               {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#ac935345cd5faba9509670304282b57d9">STRtree::avg</a>(e-&gt;getMinY(), e-&gt;getMaxY());</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  }</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1STRtree_html_ac935345cd5faba9509670304282b57d9"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1STRtree.html#ac935345cd5faba9509670304282b57d9">geos::index::strtree::STRtree::avg</a></div><div class="ttdeci">static double avg(double a, double b)</div><div class="ttdef"><b>Definition:</b> <a href="STRtree_8h_source.html#l00126">STRtree.h:126</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa4d74ee369b39c133df7bc701a85082b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool geos::index::strtree::AbstractSTRtree::compareDoubles </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AbstractSTRtree_8h_source.html#l00260">260</a> of file <a class="el" href="AbstractSTRtree_8h_source.html">AbstractSTRtree.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                                                 {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">// NOTE - strk:</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">// Ternary operation is a workaround for</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">// a probable MingW bug, see</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// http://trac.osgeo.org/geos/ticket/293</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">return</span> ( a &lt; b ) ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5ed71bc5784f19478b4f0ac07201f87d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html">AbstractNode</a> * geos::index::strtree::STRtree::createNode </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#ac2a8917eb9715dd78e1ac1a5d3791f80">geos::index::strtree::AbstractSTRtree</a>.</p>

<p>Definition at line <a class="el" href="STRtree_8cpp_source.html#l00315">315</a> of file <a class="el" href="STRtree_8cpp_source.html">STRtree.cpp</a>.</p>

<p>References <a class="el" href="AbstractSTRtree_8h_source.html#l00233">geos::index::strtree::AbstractSTRtree::nodeCapacity</a>, and <a class="el" href="AbstractSTRtree_8h_source.html#l00184">geos::index::strtree::AbstractSTRtree::nodes</a>.</p>
<div class="fragment"><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;{</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  AbstractNode *an = <span class="keyword">new</span> STRAbstractNode(level, static_cast&lt;int&gt;(<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a8384ae96fea39712dbc5f051418d7a52">nodeCapacity</a>));</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#ac8972990d9e6e5c5c43d2d79a02188ee">nodes</a>-&gt;push_back(an);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordflow">return</span> an;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a8384ae96fea39712dbc5f051418d7a52"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a8384ae96fea39712dbc5f051418d7a52">geos::index::strtree::AbstractSTRtree::nodeCapacity</a></div><div class="ttdeci">std::size_t nodeCapacity</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00233">AbstractSTRtree.h:233</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_ac8972990d9e6e5c5c43d2d79a02188ee"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#ac8972990d9e6e5c5c43d2d79a02188ee">geos::index::strtree::AbstractSTRtree::nodes</a></div><div class="ttdeci">std::vector&lt; AbstractNode * &gt; * nodes</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00184">AbstractSTRtree.h:184</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6fcb97fa0fca6be317d9178d97d6eb51"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> &gt; geos::index::strtree::STRtree::createParentBoundables </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> *&#160;</td>
          <td class="paramname"><em>childBoundables</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newLevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates the parent level for the given child level. First, orders the items by the x-values of the midpoints, and groups them into vertical slices. For each slice, orders the items by the y-values of the midpoints, and group them into runs of size M (the node capacity). For each run, creates a new (parent) node. </p>

<p>Reimplemented from <a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a154e5260cdf79f772102802f5e1677f1">geos::index::strtree::AbstractSTRtree</a>.</p>

<p>Definition at line <a class="el" href="STRtree_8cpp_source.html#l00110">110</a> of file <a class="el" href="STRtree_8cpp_source.html">STRtree.cpp</a>.</p>

<p>References <a class="el" href="STRtree_8cpp_source.html#l00135">createParentBoundablesFromVerticalSlices()</a>, <a class="el" href="AbstractSTRtree_8h_source.html#l00281">geos::index::strtree::AbstractSTRtree::getNodeCapacity()</a>, <a class="el" href="STRtree_8cpp_source.html#l00332">sortBoundables()</a>, and <a class="el" href="STRtree_8cpp_source.html#l00165">verticalSlices()</a>.</p>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;{</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  assert(!childBoundables-&gt;empty());</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordtype">int</span> minLeafCount=(int) ceil((<span class="keywordtype">double</span>)childBoundables-&gt;size()/(double)<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a798f7ce97bae7d68f6c554d2e5d0d178">getNodeCapacity</a>());</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  std::unique_ptr&lt;BoundableList&gt; sortedChildBoundables ( <a class="code" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#adf69e9ef45c5490b0a2ffdf3d291b8da">sortBoundables</a>(childBoundables) );</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  std::unique_ptr&lt; vector&lt;BoundableList*&gt; &gt; verticalSlicesV (</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <a class="code" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#ab7fe3cf7f7c15672b13769c61ee2970e">verticalSlices</a>(sortedChildBoundables.get(), (int)ceil(sqrt((<span class="keywordtype">double</span>)minLeafCount)))</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      );</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  std::unique_ptr&lt;BoundableList&gt; ret (</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a04564b9c2c2a432df77c2f552ba7dd74">createParentBoundablesFromVerticalSlices</a>(verticalSlicesV.get(), newLevel)</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  );</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0, vssize=verticalSlicesV-&gt;size(); i&lt;vssize; ++i)</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a>* inner = (*verticalSlicesV)[i];</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keyword">delete</span> inner;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a798f7ce97bae7d68f6c554d2e5d0d178"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a798f7ce97bae7d68f6c554d2e5d0d178">geos::index::strtree::AbstractSTRtree::getNodeCapacity</a></div><div class="ttdeci">virtual std::size_t getNodeCapacity()</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00281">AbstractSTRtree.h:281</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1STRtree_html_ab7fe3cf7f7c15672b13769c61ee2970e"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1STRtree.html#ab7fe3cf7f7c15672b13769c61ee2970e">geos::index::strtree::STRtree::verticalSlices</a></div><div class="ttdeci">std::vector&lt; BoundableList * &gt; * verticalSlices(BoundableList *childBoundables, size_t sliceCount)</div><div class="ttdef"><b>Definition:</b> <a href="STRtree_8cpp_source.html#l00165">STRtree.cpp:165</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1STRtree_html_adf69e9ef45c5490b0a2ffdf3d291b8da"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1STRtree.html#adf69e9ef45c5490b0a2ffdf3d291b8da">geos::index::strtree::STRtree::sortBoundables</a></div><div class="ttdeci">std::unique_ptr&lt; BoundableList &gt; sortBoundables(const BoundableList *input) override</div><div class="ttdef"><b>Definition:</b> <a href="STRtree_8cpp_source.html#l00332">STRtree.cpp:332</a></div></div>
<div class="ttc" id="namespacegeos_1_1index_1_1strtree_html_add68ce1c4a60ff15e78bb77f47605dbe"><div class="ttname"><a href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">geos::index::strtree::BoundableList</a></div><div class="ttdeci">std::vector&lt; Boundable * &gt; BoundableList</div><div class="ttdoc">A list of boundables. TODO: use a list. </div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00044">AbstractSTRtree.h:44</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1STRtree_html_a04564b9c2c2a432df77c2f552ba7dd74"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a04564b9c2c2a432df77c2f552ba7dd74">geos::index::strtree::STRtree::createParentBoundablesFromVerticalSlices</a></div><div class="ttdeci">std::unique_ptr&lt; BoundableList &gt; createParentBoundablesFromVerticalSlices(std::vector&lt; BoundableList * &gt; *verticalSlices, int newLevel)</div><div class="ttdef"><b>Definition:</b> <a href="STRtree_8cpp_source.html#l00135">STRtree.cpp:135</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1145234c109f01e23734da8fca1dd99b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> &gt; geos::index::strtree::STRtree::createParentBoundablesFromVerticalSlice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> *&#160;</td>
          <td class="paramname"><em>childBoundables</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newLevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="STRtree_8cpp_source.html#l00158">158</a> of file <a class="el" href="STRtree_8cpp_source.html">STRtree.cpp</a>.</p>

<p>References <a class="el" href="AbstractSTRtree_8cpp_source.html#l00067">geos::index::strtree::AbstractSTRtree::createParentBoundables()</a>.</p>

<p>Referenced by <a class="el" href="STRtree_8cpp_source.html#l00135">createParentBoundablesFromVerticalSlices()</a>.</p>
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a154e5260cdf79f772102802f5e1677f1">AbstractSTRtree::createParentBoundables</a>(childBoundables, newLevel);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a154e5260cdf79f772102802f5e1677f1"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a154e5260cdf79f772102802f5e1677f1">geos::index::strtree::AbstractSTRtree::createParentBoundables</a></div><div class="ttdeci">virtual std::unique_ptr&lt; BoundableList &gt; createParentBoundables(BoundableList *childBoundables, int newLevel)</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8cpp_source.html#l00067">AbstractSTRtree.cpp:67</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a04564b9c2c2a432df77c2f552ba7dd74"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> &gt; geos::index::strtree::STRtree::createParentBoundablesFromVerticalSlices </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> * &gt; *&#160;</td>
          <td class="paramname"><em>verticalSlices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newLevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="STRtree_8cpp_source.html#l00135">135</a> of file <a class="el" href="STRtree_8cpp_source.html">STRtree.cpp</a>.</p>

<p>References <a class="el" href="STRtree_8cpp_source.html#l00158">createParentBoundablesFromVerticalSlice()</a>.</p>

<p>Referenced by <a class="el" href="STRtree_8cpp_source.html#l00110">createParentBoundables()</a>.</p>
<div class="fragment"><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;{</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  assert(!<a class="code" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#ab7fe3cf7f7c15672b13769c61ee2970e">verticalSlices</a>-&gt;empty());</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  std::unique_ptr&lt;BoundableList&gt; parentBoundables( <span class="keyword">new</span> <a class="code" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a>() );</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0, vssize=<a class="code" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#ab7fe3cf7f7c15672b13769c61ee2970e">verticalSlices</a>-&gt;size(); i&lt;vssize; ++i)</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    std::unique_ptr&lt;BoundableList&gt; toAdd (</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <a class="code" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a1145234c109f01e23734da8fca1dd99b">createParentBoundablesFromVerticalSlice</a>(</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        (*<a class="code" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#ab7fe3cf7f7c15672b13769c61ee2970e">verticalSlices</a>)[i], newLevel)</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      );</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    assert(!toAdd-&gt;empty());</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    parentBoundables-&gt;insert(</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        parentBoundables-&gt;end(),</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        toAdd-&gt;begin(),</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        toAdd-&gt;end());</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordflow">return</span> parentBoundables;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1STRtree_html_ab7fe3cf7f7c15672b13769c61ee2970e"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1STRtree.html#ab7fe3cf7f7c15672b13769c61ee2970e">geos::index::strtree::STRtree::verticalSlices</a></div><div class="ttdeci">std::vector&lt; BoundableList * &gt; * verticalSlices(BoundableList *childBoundables, size_t sliceCount)</div><div class="ttdef"><b>Definition:</b> <a href="STRtree_8cpp_source.html#l00165">STRtree.cpp:165</a></div></div>
<div class="ttc" id="namespacegeos_1_1index_1_1strtree_html_add68ce1c4a60ff15e78bb77f47605dbe"><div class="ttname"><a href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">geos::index::strtree::BoundableList</a></div><div class="ttdeci">std::vector&lt; Boundable * &gt; BoundableList</div><div class="ttdoc">A list of boundables. TODO: use a list. </div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00044">AbstractSTRtree.h:44</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1STRtree_html_a1145234c109f01e23734da8fca1dd99b"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a1145234c109f01e23734da8fca1dd99b">geos::index::strtree::STRtree::createParentBoundablesFromVerticalSlice</a></div><div class="ttdeci">std::unique_ptr&lt; BoundableList &gt; createParentBoundablesFromVerticalSlice(BoundableList *childBoundables, int newLevel)</div><div class="ttdef"><b>Definition:</b> <a href="STRtree_8cpp_source.html#l00158">STRtree.cpp:158</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a85c88a85336843827b03b5aa1db2749d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_1_1IntersectsOp.html">IntersectsOp</a>* geos::index::strtree::STRtree::getIntersectsOp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>a test for intersection between two bounds, necessary because subclasses of <a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html" title="Base class for STRtree and SIRtree. ">AbstractSTRtree</a> have different implementations of bounds. </dd></dl>
<dl class="section see"><dt>See also</dt><dd>IntersectsOp </dd></dl>

<p>Implements <a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a7db78c9982ce34909c6c4c660cefd8b4">geos::index::strtree::AbstractSTRtree</a>.</p>

<p>Definition at line <a class="el" href="STRtree_8h_source.html#l00108">108</a> of file <a class="el" href="STRtree_8h_source.html">STRtree.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                                           {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#aeeefc3bd447342e9b4be2d8123487644">intersectsOp</a>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  }</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1STRtree_html_aeeefc3bd447342e9b4be2d8123487644"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1STRtree.html#aeeefc3bd447342e9b4be2d8123487644">geos::index::strtree::STRtree::intersectsOp</a></div><div class="ttdeci">STRIntersectsOp intersectsOp</div><div class="ttdef"><b>Definition:</b> <a href="STRtree_8h_source.html#l00086">STRtree.h:86</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a798f7ce97bae7d68f6c554d2e5d0d178"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::size_t geos::index::strtree::AbstractSTRtree::getNodeCapacity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the maximum number of child nodes that a node may have </p>

<p>Definition at line <a class="el" href="AbstractSTRtree_8h_source.html#l00281">281</a> of file <a class="el" href="AbstractSTRtree_8h_source.html">AbstractSTRtree.h</a>.</p>

<p>Referenced by <a class="el" href="STRtree_8cpp_source.html#l00110">createParentBoundables()</a>.</p>
<div class="fragment"><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a8384ae96fea39712dbc5f051418d7a52">nodeCapacity</a>; }</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a8384ae96fea39712dbc5f051418d7a52"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a8384ae96fea39712dbc5f051418d7a52">geos::index::strtree::AbstractSTRtree::nodeCapacity</a></div><div class="ttdeci">std::size_t nodeCapacity</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00233">AbstractSTRtree.h:233</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afb3489846cfa41303860a38d285b2d13"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html">AbstractNode</a>* geos::index::strtree::AbstractSTRtree::getRoot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AbstractSTRtree_8h_source.html#l00203">203</a> of file <a class="el" href="AbstractSTRtree_8h_source.html">AbstractSTRtree.h</a>.</p>

<p>Referenced by <a class="el" href="STRtree_8cpp_source.html#l00189">nearestNeighbour()</a>.</p>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                                  {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                assert(<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aead72ce5f94da7b9ecab9191892ed3ea">built</a>);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">root</a>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  }</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_af48aca2dd2ec8574d2a66b954326b2d1"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">geos::index::strtree::AbstractSTRtree::root</a></div><div class="ttdeci">AbstractNode * root</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00182">AbstractSTRtree.h:182</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_aead72ce5f94da7b9ecab9191892ed3ea"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aead72ce5f94da7b9ecab9191892ed3ea">geos::index::strtree::AbstractSTRtree::built</a></div><div class="ttdeci">bool built</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00135">AbstractSTRtree.h:135</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9ca89d79af23375493acbc8286e7e3e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geos::index::strtree::STRtree::insert </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgeos_1_1geom_1_1Envelope.html">geom::Envelope</a> *&#160;</td>
          <td class="paramname"><em>itemEnv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a spatial item with an extent specified by the given Envelope to the index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">itemEnv</td><td>Envelope of the item, ownership left to caller. TODO: Reference hold by this class ?</td></tr>
    <tr><td class="paramname">item</td><td>Opaque item, ownership left to caller. Reference hold by this class. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classgeos_1_1index_1_1SpatialIndex.html#aaac40880b4fbc4a32d1d0aba1d679117">geos::index::SpatialIndex</a>.</p>

<p>Definition at line <a class="el" href="STRtree_8cpp_source.html#l00324">324</a> of file <a class="el" href="STRtree_8cpp_source.html">STRtree.cpp</a>.</p>

<p>References <a class="el" href="AbstractSTRtree_8cpp_source.html#l00115">geos::index::strtree::AbstractSTRtree::insert()</a>, and <a class="el" href="Envelope_8inl_source.html#l00062">geos::geom::Envelope::isNull()</a>.</p>

<p>Referenced by <a class="el" href="geos__ts__c_8cpp_source.html#l06332">GEOSSTRtree_insert_r()</a>, <a class="el" href="CascadedUnion_8cpp_source.html#l00041">geos::operation::geounion::CascadedUnion::Union()</a>, and <a class="el" href="CascadedPolygonUnion_8cpp_source.html#l00127">geos::operation::geounion::CascadedPolygonUnion::Union()</a>.</p>
<div class="fragment"><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;{</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordflow">if</span> (itemEnv-&gt;isNull()) { <span class="keywordflow">return</span>; }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a3ad145fa30d494e56f453f4c6fdb3a8b">AbstractSTRtree::insert</a>(itemEnv, item);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a3ad145fa30d494e56f453f4c6fdb3a8b"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a3ad145fa30d494e56f453f4c6fdb3a8b">geos::index::strtree::AbstractSTRtree::insert</a></div><div class="ttdeci">virtual void insert(const void *bounds, void *item)</div><div class="ttdoc">Also builds the tree, if necessary. </div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8cpp_source.html#l00115">AbstractSTRtree.cpp:115</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3ad145fa30d494e56f453f4c6fdb3a8b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geos::index::strtree::AbstractSTRtree::insert </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>bounds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Also builds the tree, if necessary. </p>

<p>Definition at line <a class="el" href="AbstractSTRtree_8cpp_source.html#l00115">115</a> of file <a class="el" href="AbstractSTRtree_8cpp_source.html">AbstractSTRtree.cpp</a>.</p>

<p>Referenced by <a class="el" href="SIRtree_8cpp_source.html#l00130">geos::index::strtree::SIRtree::insert()</a>, and <a class="el" href="STRtree_8cpp_source.html#l00324">insert()</a>.</p>
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="comment">// Cannot insert items into an STR packed R-tree after it has been built</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  assert(!<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aead72ce5f94da7b9ecab9191892ed3ea">built</a>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a71f79716bf10c2bcacfa3777dd062d53">itemBoundables</a>-&gt;push_back(<span class="keyword">new</span> ItemBoundable(bounds,item));</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a71f79716bf10c2bcacfa3777dd062d53"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a71f79716bf10c2bcacfa3777dd062d53">geos::index::strtree::AbstractSTRtree::itemBoundables</a></div><div class="ttdeci">BoundableList * itemBoundables</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00136">AbstractSTRtree.h:136</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_aead72ce5f94da7b9ecab9191892ed3ea"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aead72ce5f94da7b9ecab9191892ed3ea">geos::index::strtree::AbstractSTRtree::built</a></div><div class="ttdeci">bool built</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00135">AbstractSTRtree.h:135</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8046ce3b2f6b7f772cf1b74c2a9cb1f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgeos_1_1index_1_1strtree_1_1ItemsList.html">ItemsList</a> * geos::index::strtree::AbstractSTRtree::itemsTree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets a tree structure (as a nested list) corresponding to the structure of the items and nodes in this tree. </p>
<p>The returned <a class="el" href="">List</a>s contain either <a class="el" href="">Object</a> items, or Lists which correspond to subtrees of the tree Subtrees which do not contain any items are not included. </p>
<p>Builds the tree if necessary.</p>
<dl class="section note"><dt>Note</dt><dd>The caller is responsible for releasing the list</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>a List of items and/or Lists </dd></dl>

<p>Definition at line <a class="el" href="AbstractSTRtree_8cpp_source.html#l00382">382</a> of file <a class="el" href="AbstractSTRtree_8cpp_source.html">AbstractSTRtree.cpp</a>.</p>

<p>Referenced by <a class="el" href="CascadedUnion_8cpp_source.html#l00041">geos::operation::geounion::CascadedUnion::Union()</a>, and <a class="el" href="CascadedPolygonUnion_8cpp_source.html#l00127">geos::operation::geounion::CascadedPolygonUnion::Union()</a>.</p>
<div class="fragment"><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;{</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aead72ce5f94da7b9ecab9191892ed3ea">built</a>) {</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aaa3ef55be879ccced398b802f2975704">build</a>();</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    ItemsList* valuesTree (<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a8046ce3b2f6b7f772cf1b74c2a9cb1f4">itemsTree</a>(<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">root</a>));</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">if</span> (valuesTree == <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">new</span> ItemsList();</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">return</span> valuesTree;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_af48aca2dd2ec8574d2a66b954326b2d1"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">geos::index::strtree::AbstractSTRtree::root</a></div><div class="ttdeci">AbstractNode * root</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00182">AbstractSTRtree.h:182</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a8046ce3b2f6b7f772cf1b74c2a9cb1f4"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a8046ce3b2f6b7f772cf1b74c2a9cb1f4">geos::index::strtree::AbstractSTRtree::itemsTree</a></div><div class="ttdeci">ItemsList * itemsTree()</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8cpp_source.html#l00382">AbstractSTRtree.cpp:382</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_aaa3ef55be879ccced398b802f2975704"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aaa3ef55be879ccced398b802f2975704">geos::index::strtree::AbstractSTRtree::build</a></div><div class="ttdeci">virtual void build()</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8cpp_source.html#l00056">AbstractSTRtree.cpp:56</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_aead72ce5f94da7b9ecab9191892ed3ea"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aead72ce5f94da7b9ecab9191892ed3ea">geos::index::strtree::AbstractSTRtree::built</a></div><div class="ttdeci">bool built</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00135">AbstractSTRtree.h:135</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a19bcfdef908e46bd2c51ceb98922f7c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geos::index::strtree::AbstractSTRtree::iterate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgeos_1_1index_1_1ItemVisitor.html">ItemVisitor</a> &amp;&#160;</td>
          <td class="paramname"><em>visitor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Iterate over all items added thus far. Explicitly does not build the tree. </p>

<p>Definition at line <a class="el" href="AbstractSTRtree_8cpp_source.html#l00293">293</a> of file <a class="el" href="AbstractSTRtree_8cpp_source.html">AbstractSTRtree.cpp</a>.</p>

<p>References <a class="el" href="classgeos_1_1index_1_1ItemVisitor.html#a4fd666359b2836405b3843d5955ec59d">geos::index::ItemVisitor::visitItem()</a>.</p>

<p>Referenced by <a class="el" href="MinimumClearance_8cpp_source.html#l00052">geos::precision::MinimumClearance::compute()</a>, and <a class="el" href="geos__ts__c_8cpp_source.html#l06511">GEOSSTRtree_iterate_r()</a>.</p>
<div class="fragment"><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;{</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">for</span> (BoundableList::const_iterator i=<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a71f79716bf10c2bcacfa3777dd062d53">itemBoundables</a>-&gt;begin(), e=<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a71f79716bf10c2bcacfa3777dd062d53">itemBoundables</a>-&gt;end();</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      i!=e; i++)</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keyword">const</span> Boundable* boundable = *i;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> ItemBoundable *ib=dynamic_cast&lt;const ItemBoundable *&gt;(boundable))</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    {</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      visitor.visitItem(ib-&gt;getItem());</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a71f79716bf10c2bcacfa3777dd062d53"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a71f79716bf10c2bcacfa3777dd062d53">geos::index::strtree::AbstractSTRtree::itemBoundables</a></div><div class="ttdeci">BoundableList * itemBoundables</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00136">AbstractSTRtree.h:136</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8bdb214d9b11f90c832dae0f5dcca252"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html">AbstractNode</a>* geos::index::strtree::AbstractSTRtree::lastNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> *&#160;</td>
          <td class="paramname"><em>nodeList</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AbstractSTRtree_8h_source.html#l00196">196</a> of file <a class="el" href="AbstractSTRtree_8h_source.html">AbstractSTRtree.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    assert(!nodeList-&gt;empty());</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">// Cast from Boundable to AbstractNode</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>AbstractNode*<span class="keyword">&gt;</span>(nodeList-&gt;back() );</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1da70fab16df6dbe70cce34842150b35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void * geos::index::strtree::STRtree::nearestNeighbour </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgeos_1_1geom_1_1Envelope.html">geom::Envelope</a> *&#160;</td>
          <td class="paramname"><em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgeos_1_1index_1_1strtree_1_1ItemDistance.html">ItemDistance</a> *&#160;</td>
          <td class="paramname"><em>itemDist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="STRtree_8cpp_source.html#l00189">189</a> of file <a class="el" href="STRtree_8cpp_source.html">STRtree.cpp</a>.</p>

<p>References <a class="el" href="AbstractSTRtree_8cpp_source.html#l00056">geos::index::strtree::AbstractSTRtree::build()</a>, and <a class="el" href="AbstractSTRtree_8h_source.html#l00203">geos::index::strtree::AbstractSTRtree::getRoot()</a>.</p>

<p>Referenced by <a class="el" href="geos__ts__c_8cpp_source.html#l06435">GEOSSTRtree_nearest_generic_r()</a>, and <a class="el" href="STRtree_8cpp_source.html#l00198">nearestNeighbour()</a>.</p>
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                                                                                                   {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aaa3ef55be879ccced398b802f2975704">build</a>();</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  ItemBoundable bnd = ItemBoundable(env, (<span class="keywordtype">void</span>*) item);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  BoundablePair bp(<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#afb3489846cfa41303860a38d285b2d13">getRoot</a>(), &amp;bnd, itemDist);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a1da70fab16df6dbe70cce34842150b35">nearestNeighbour</a>(&amp;bp).first;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1STRtree_html_a1da70fab16df6dbe70cce34842150b35"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a1da70fab16df6dbe70cce34842150b35">geos::index::strtree::STRtree::nearestNeighbour</a></div><div class="ttdeci">const void * nearestNeighbour(const geom::Envelope *env, const void *item, ItemDistance *itemDist)</div><div class="ttdef"><b>Definition:</b> <a href="STRtree_8cpp_source.html#l00189">STRtree.cpp:189</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_afb3489846cfa41303860a38d285b2d13"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#afb3489846cfa41303860a38d285b2d13">geos::index::strtree::AbstractSTRtree::getRoot</a></div><div class="ttdeci">virtual AbstractNode * getRoot()</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00203">AbstractSTRtree.h:203</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_aaa3ef55be879ccced398b802f2975704"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aaa3ef55be879ccced398b802f2975704">geos::index::strtree::AbstractSTRtree::build</a></div><div class="ttdeci">virtual void build()</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8cpp_source.html#l00056">AbstractSTRtree.cpp:56</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa2dc1353f25cd79ead4c1d927641b051"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; const void *, const void * &gt; geos::index::strtree::STRtree::nearestNeighbour </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgeos_1_1index_1_1strtree_1_1BoundablePair.html">BoundablePair</a> *&#160;</td>
          <td class="paramname"><em>initBndPair</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="STRtree_8cpp_source.html#l00198">198</a> of file <a class="el" href="STRtree_8cpp_source.html">STRtree.cpp</a>.</p>

<p>References <a class="el" href="STRtree_8cpp_source.html#l00189">nearestNeighbour()</a>.</p>
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                                                                                      {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a1da70fab16df6dbe70cce34842150b35">nearestNeighbour</a>(initBndPair, std::numeric_limits&lt;double&gt;::infinity());</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1STRtree_html_a1da70fab16df6dbe70cce34842150b35"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a1da70fab16df6dbe70cce34842150b35">geos::index::strtree::STRtree::nearestNeighbour</a></div><div class="ttdeci">const void * nearestNeighbour(const geom::Envelope *env, const void *item, ItemDistance *itemDist)</div><div class="ttdef"><b>Definition:</b> <a href="STRtree_8cpp_source.html#l00189">STRtree.cpp:189</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a278c40e7274eff5da250511ef7687281"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; const void *, const void * &gt; geos::index::strtree::STRtree::nearestNeighbour </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgeos_1_1index_1_1strtree_1_1ItemDistance.html">ItemDistance</a> *&#160;</td>
          <td class="paramname"><em>itemDist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="STRtree_8cpp_source.html#l00202">202</a> of file <a class="el" href="STRtree_8cpp_source.html">STRtree.cpp</a>.</p>

<p>References <a class="el" href="AbstractSTRtree_8h_source.html#l00203">geos::index::strtree::AbstractSTRtree::getRoot()</a>, and <a class="el" href="STRtree_8cpp_source.html#l00189">nearestNeighbour()</a>.</p>
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                                                                                   {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  BoundablePair bp(this-&gt;<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#afb3489846cfa41303860a38d285b2d13">getRoot</a>(), this-&gt;<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#afb3489846cfa41303860a38d285b2d13">getRoot</a>(), itemDist);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a1da70fab16df6dbe70cce34842150b35">nearestNeighbour</a>(&amp;bp);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1STRtree_html_a1da70fab16df6dbe70cce34842150b35"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a1da70fab16df6dbe70cce34842150b35">geos::index::strtree::STRtree::nearestNeighbour</a></div><div class="ttdeci">const void * nearestNeighbour(const geom::Envelope *env, const void *item, ItemDistance *itemDist)</div><div class="ttdef"><b>Definition:</b> <a href="STRtree_8cpp_source.html#l00189">STRtree.cpp:189</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_afb3489846cfa41303860a38d285b2d13"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#afb3489846cfa41303860a38d285b2d13">geos::index::strtree::AbstractSTRtree::getRoot</a></div><div class="ttdeci">virtual AbstractNode * getRoot()</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00203">AbstractSTRtree.h:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0913bc4e3dee626851754d4e1bf56f07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; const void *, const void * &gt; geos::index::strtree::STRtree::nearestNeighbour </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgeos_1_1index_1_1strtree_1_1BoundablePair.html">BoundablePair</a> *&#160;</td>
          <td class="paramname"><em>initBndPair</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>maxDistance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If the distance for the first node in the queue is &gt;= the current minimum distance, all other nodes in the queue must also have a greater distance. So the current minDistance must be the true minimum, and we are done.</p>
<p>If the pair members are leaves then their distance is the exact lower bound. Update the distanceLowerBound to reflect this (which must be smaller, due to the test immediately prior to this).</p>
<p>Otherwise, expand one side of the pair, (the choice of which side to expand is heuristically determined) and insert the new expanded pairs into the queue</p>

<p>Definition at line <a class="el" href="STRtree_8cpp_source.html#l00212">212</a> of file <a class="el" href="STRtree_8cpp_source.html">STRtree.cpp</a>.</p>

<p>References <a class="el" href="BoundablePair_8cpp_source.html#l00073">geos::index::strtree::BoundablePair::expandToQueue()</a>, <a class="el" href="BoundablePair_8cpp_source.html#l00036">geos::index::strtree::BoundablePair::getBoundable()</a>, <a class="el" href="BoundablePair_8cpp_source.html#l00057">geos::index::strtree::BoundablePair::getDistance()</a>, and <a class="el" href="BoundablePair_8cpp_source.html#l00061">geos::index::strtree::BoundablePair::isLeaves()</a>.</p>
<div class="fragment"><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                                                                                                          {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordtype">double</span> distanceLowerBound = maxDistance;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  BoundablePair* minPair = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <a class="code" href="classgeos_1_1index_1_1strtree_1_1BoundablePair.html#ab4ca9259ac441d339dc5a471680ece40">BoundablePair::BoundablePairQueue</a> priQ;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  priQ.push(initBndPair);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">while</span>(!priQ.empty() &amp;&amp; distanceLowerBound &gt; 0.0) {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    BoundablePair* bndPair = priQ.top();</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordtype">double</span> currentDistance = bndPair-&gt;getDistance();</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">if</span> (minPair &amp;&amp; currentDistance &gt;= distanceLowerBound)</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    priQ.pop();</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">if</span> (bndPair-&gt;isLeaves()) {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      distanceLowerBound = currentDistance;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      minPair = bndPair;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      bndPair-&gt;expandToQueue(priQ, distanceLowerBound);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">if</span> (bndPair != initBndPair &amp;&amp; bndPair != minPair)</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <span class="keyword">delete</span> bndPair;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="comment">/* Free any remaining BoundablePairs in the queue */</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">while</span>(!priQ.empty()) {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    BoundablePair* bndPair = priQ.top();</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    priQ.pop();</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">if</span> (bndPair != initBndPair)</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <span class="keyword">delete</span> bndPair;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">if</span> (!minPair)</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">throw</span> util::GEOSException(<span class="stringliteral">&quot;Error computing nearest neighbor&quot;</span>);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">void</span>* item0 = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>ItemBoundable*<span class="keyword">&gt;</span>(minPair-&gt;getBoundable(0))-&gt;getItem();</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">void</span>* item1 = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>ItemBoundable*<span class="keyword">&gt;</span>(minPair-&gt;getBoundable(1))-&gt;getItem();</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="keywordflow">if</span> (minPair != initBndPair)</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keyword">delete</span> minPair;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">return</span> std::pair&lt;const void*, const void*&gt;(item0, item1);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1BoundablePair_html_ab4ca9259ac441d339dc5a471680ece40"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1BoundablePair.html#ab4ca9259ac441d339dc5a471680ece40">geos::index::strtree::BoundablePair::BoundablePairQueue</a></div><div class="ttdeci">std::priority_queue&lt; BoundablePair *, std::vector&lt; BoundablePair * &gt;, BoundablePairQueueCompare &gt; BoundablePairQueue</div><div class="ttdef"><b>Definition:</b> <a href="BoundablePair_8h_source.html#l00057">BoundablePair.h:57</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeba33c08df3b7aef5fd95601a4f0d45c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; const void *, const void * &gt; geos::index::strtree::STRtree::nearestNeighbour </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree.html">STRtree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgeos_1_1index_1_1strtree_1_1ItemDistance.html">ItemDistance</a> *&#160;</td>
          <td class="paramname"><em>itemDist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="STRtree_8cpp_source.html#l00207">207</a> of file <a class="el" href="STRtree_8cpp_source.html">STRtree.cpp</a>.</p>

<p>References <a class="el" href="AbstractSTRtree_8h_source.html#l00203">geos::index::strtree::AbstractSTRtree::getRoot()</a>, and <a class="el" href="STRtree_8cpp_source.html#l00189">nearestNeighbour()</a>.</p>
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                                                                                                 {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  BoundablePair bp(<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#afb3489846cfa41303860a38d285b2d13">getRoot</a>(), tree-&gt;getRoot(), itemDist);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a1da70fab16df6dbe70cce34842150b35">nearestNeighbour</a>(&amp;bp);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1STRtree_html_a1da70fab16df6dbe70cce34842150b35"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1STRtree.html#a1da70fab16df6dbe70cce34842150b35">geos::index::strtree::STRtree::nearestNeighbour</a></div><div class="ttdeci">const void * nearestNeighbour(const geom::Envelope *env, const void *item, ItemDistance *itemDist)</div><div class="ttdef"><b>Definition:</b> <a href="STRtree_8cpp_source.html#l00189">STRtree.cpp:189</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_afb3489846cfa41303860a38d285b2d13"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#afb3489846cfa41303860a38d285b2d13">geos::index::strtree::AbstractSTRtree::getRoot</a></div><div class="ttdeci">virtual AbstractNode * getRoot()</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00203">AbstractSTRtree.h:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa31a264493ad5a307769c1feb67d1371"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geos::index::strtree::STRtree::query </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgeos_1_1geom_1_1Envelope.html">geom::Envelope</a> *&#160;</td>
          <td class="paramname"><em>searchEnv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; void * &gt; &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queries the index for all items whose extents intersect the given search Envelope. </p>
<p>Note that some kinds of indexes may also return objects which do not in fact intersect the query envelope.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchEnv</td><td>the envelope to query for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a list of the items found by the query in a newly allocated vector </dd></dl>

<p>Implements <a class="el" href="classgeos_1_1index_1_1SpatialIndex.html#aec3aa2aafa2eff5679c75388afb34ab2">geos::index::SpatialIndex</a>.</p>

<p>Definition at line <a class="el" href="STRtree_8h_source.html#l00134">134</a> of file <a class="el" href="STRtree_8h_source.html">STRtree.h</a>.</p>

<p>References <a class="el" href="AbstractSTRtree_8cpp_source.html#l00124">geos::index::strtree::AbstractSTRtree::query()</a>.</p>

<p>Referenced by <a class="el" href="geos__ts__c_8cpp_source.html#l06378">GEOSSTRtree_query_r()</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                                                                                {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a668b51c0354bee9934ebeca13f68d8b1">AbstractSTRtree::query</a>(searchEnv, matches);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  }</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a668b51c0354bee9934ebeca13f68d8b1"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a668b51c0354bee9934ebeca13f68d8b1">geos::index::strtree::AbstractSTRtree::query</a></div><div class="ttdeci">void query(const void *searchBounds, std::vector&lt; void * &gt; &amp;foundItems)</div><div class="ttdoc">Also builds the tree, if necessary. </div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8cpp_source.html#l00124">AbstractSTRtree.cpp:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4e3e30e9905a1abe0cd2db1c2c98d32f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geos::index::strtree::STRtree::query </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgeos_1_1geom_1_1Envelope.html">geom::Envelope</a> *&#160;</td>
          <td class="paramname"><em>searchEnv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgeos_1_1index_1_1ItemVisitor.html">ItemVisitor</a> &amp;&#160;</td>
          <td class="paramname"><em>visitor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queries the index for all items whose extents intersect the given search Envelope and applies an <a class="el" href="classgeos_1_1index_1_1ItemVisitor.html" title="A visitor for items in an index. ">ItemVisitor</a> to them. </p>
<p>Note that some kinds of indexes may also return objects which do not in fact intersect the query envelope.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchEnv</td><td>the envelope to query for </td></tr>
    <tr><td class="paramname">visitor</td><td>a visitor object to apply to the items found </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classgeos_1_1index_1_1SpatialIndex.html#ab79a4e1da4835cbfa030f25867effcde">geos::index::SpatialIndex</a>.</p>

<p>Definition at line <a class="el" href="STRtree_8h_source.html#l00138">138</a> of file <a class="el" href="STRtree_8h_source.html">STRtree.h</a>.</p>

<p>References <a class="el" href="AbstractSTRtree_8cpp_source.html#l00124">geos::index::strtree::AbstractSTRtree::query()</a>.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                                                           {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a668b51c0354bee9934ebeca13f68d8b1">AbstractSTRtree::query</a>(searchEnv, visitor);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  }</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a668b51c0354bee9934ebeca13f68d8b1"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a668b51c0354bee9934ebeca13f68d8b1">geos::index::strtree::AbstractSTRtree::query</a></div><div class="ttdeci">void query(const void *searchBounds, std::vector&lt; void * &gt; &amp;foundItems)</div><div class="ttdoc">Also builds the tree, if necessary. </div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8cpp_source.html#l00124">AbstractSTRtree.cpp:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a668b51c0354bee9934ebeca13f68d8b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geos::index::strtree::AbstractSTRtree::query </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>searchBounds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; void * &gt; &amp;&#160;</td>
          <td class="paramname"><em>foundItems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Also builds the tree, if necessary. </p>

<p>Definition at line <a class="el" href="AbstractSTRtree_8cpp_source.html#l00124">124</a> of file <a class="el" href="AbstractSTRtree_8cpp_source.html">AbstractSTRtree.cpp</a>.</p>

<p>Referenced by <a class="el" href="SIRtree_8h_source.html#l00066">geos::index::strtree::SIRtree::query()</a>, and <a class="el" href="STRtree_8h_source.html#l00134">query()</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;{</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aead72ce5f94da7b9ecab9191892ed3ea">built</a>) <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aaa3ef55be879ccced398b802f2975704">build</a>();</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a71f79716bf10c2bcacfa3777dd062d53">itemBoundables</a>-&gt;empty()) assert(<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">root</a>-&gt;<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html#ad0469599db24945e043da66c483165ec">getBounds</a>()==<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a7db78c9982ce34909c6c4c660cefd8b4">getIntersectsOp</a>()-&gt;<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_1_1IntersectsOp.html#a9e45111c25989641db31e5f8458e0753">intersects</a>(<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">root</a>-&gt;<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html#ad0469599db24945e043da66c483165ec">getBounds</a>(), searchBounds))</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a668b51c0354bee9934ebeca13f68d8b1">query</a>(searchBounds,<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">root</a>, &amp;matches);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a7db78c9982ce34909c6c4c660cefd8b4"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a7db78c9982ce34909c6c4c660cefd8b4">geos::index::strtree::AbstractSTRtree::getIntersectsOp</a></div><div class="ttdeci">virtual IntersectsOp * getIntersectsOp()=0</div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a668b51c0354bee9934ebeca13f68d8b1"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a668b51c0354bee9934ebeca13f68d8b1">geos::index::strtree::AbstractSTRtree::query</a></div><div class="ttdeci">void query(const void *searchBounds, std::vector&lt; void * &gt; &amp;foundItems)</div><div class="ttdoc">Also builds the tree, if necessary. </div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8cpp_source.html#l00124">AbstractSTRtree.cpp:124</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_af48aca2dd2ec8574d2a66b954326b2d1"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">geos::index::strtree::AbstractSTRtree::root</a></div><div class="ttdeci">AbstractNode * root</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00182">AbstractSTRtree.h:182</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_1_1IntersectsOp_html_a9e45111c25989641db31e5f8458e0753"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_1_1IntersectsOp.html#a9e45111c25989641db31e5f8458e0753">geos::index::strtree::AbstractSTRtree::IntersectsOp::intersects</a></div><div class="ttdeci">virtual bool intersects(const void *aBounds, const void *bBounds)=0</div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a71f79716bf10c2bcacfa3777dd062d53"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a71f79716bf10c2bcacfa3777dd062d53">geos::index::strtree::AbstractSTRtree::itemBoundables</a></div><div class="ttdeci">BoundableList * itemBoundables</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00136">AbstractSTRtree.h:136</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_aaa3ef55be879ccced398b802f2975704"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aaa3ef55be879ccced398b802f2975704">geos::index::strtree::AbstractSTRtree::build</a></div><div class="ttdeci">virtual void build()</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8cpp_source.html#l00056">AbstractSTRtree.cpp:56</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_aead72ce5f94da7b9ecab9191892ed3ea"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aead72ce5f94da7b9ecab9191892ed3ea">geos::index::strtree::AbstractSTRtree::built</a></div><div class="ttdeci">bool built</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00135">AbstractSTRtree.h:135</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractNode_html_ad0469599db24945e043da66c483165ec"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html#ad0469599db24945e043da66c483165ec">geos::index::strtree::AbstractNode::getBounds</a></div><div class="ttdeci">const void * getBounds() const override</div><div class="ttdef"><b>Definition:</b> <a href="AbstractNode_8cpp_source.html#l00043">AbstractNode.cpp:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a41854d8905858081f777adc567ad8599"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geos::index::strtree::AbstractSTRtree::query </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>searchBounds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgeos_1_1index_1_1ItemVisitor.html">ItemVisitor</a> &amp;&#160;</td>
          <td class="paramname"><em>visitor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Also builds the tree, if necessary. </p>

<p>Definition at line <a class="el" href="AbstractSTRtree_8cpp_source.html#l00138">138</a> of file <a class="el" href="AbstractSTRtree_8cpp_source.html">AbstractSTRtree.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aead72ce5f94da7b9ecab9191892ed3ea">built</a>) <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aaa3ef55be879ccced398b802f2975704">build</a>();</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a71f79716bf10c2bcacfa3777dd062d53">itemBoundables</a>-&gt;empty()) assert(<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">root</a>-&gt;<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html#ad0469599db24945e043da66c483165ec">getBounds</a>()==<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a7db78c9982ce34909c6c4c660cefd8b4">getIntersectsOp</a>()-&gt;<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_1_1IntersectsOp.html#a9e45111c25989641db31e5f8458e0753">intersects</a>(<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">root</a>-&gt;<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html#ad0469599db24945e043da66c483165ec">getBounds</a>(),searchBounds))</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a668b51c0354bee9934ebeca13f68d8b1">query</a>(searchBounds, *<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">root</a>, visitor);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  }</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a7db78c9982ce34909c6c4c660cefd8b4"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a7db78c9982ce34909c6c4c660cefd8b4">geos::index::strtree::AbstractSTRtree::getIntersectsOp</a></div><div class="ttdeci">virtual IntersectsOp * getIntersectsOp()=0</div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a668b51c0354bee9934ebeca13f68d8b1"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a668b51c0354bee9934ebeca13f68d8b1">geos::index::strtree::AbstractSTRtree::query</a></div><div class="ttdeci">void query(const void *searchBounds, std::vector&lt; void * &gt; &amp;foundItems)</div><div class="ttdoc">Also builds the tree, if necessary. </div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8cpp_source.html#l00124">AbstractSTRtree.cpp:124</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_af48aca2dd2ec8574d2a66b954326b2d1"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">geos::index::strtree::AbstractSTRtree::root</a></div><div class="ttdeci">AbstractNode * root</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00182">AbstractSTRtree.h:182</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_1_1IntersectsOp_html_a9e45111c25989641db31e5f8458e0753"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_1_1IntersectsOp.html#a9e45111c25989641db31e5f8458e0753">geos::index::strtree::AbstractSTRtree::IntersectsOp::intersects</a></div><div class="ttdeci">virtual bool intersects(const void *aBounds, const void *bBounds)=0</div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a71f79716bf10c2bcacfa3777dd062d53"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a71f79716bf10c2bcacfa3777dd062d53">geos::index::strtree::AbstractSTRtree::itemBoundables</a></div><div class="ttdeci">BoundableList * itemBoundables</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00136">AbstractSTRtree.h:136</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_aaa3ef55be879ccced398b802f2975704"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aaa3ef55be879ccced398b802f2975704">geos::index::strtree::AbstractSTRtree::build</a></div><div class="ttdeci">virtual void build()</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8cpp_source.html#l00056">AbstractSTRtree.cpp:56</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_aead72ce5f94da7b9ecab9191892ed3ea"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aead72ce5f94da7b9ecab9191892ed3ea">geos::index::strtree::AbstractSTRtree::built</a></div><div class="ttdeci">bool built</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00135">AbstractSTRtree.h:135</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractNode_html_ad0469599db24945e043da66c483165ec"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html#ad0469599db24945e043da66c483165ec">geos::index::strtree::AbstractNode::getBounds</a></div><div class="ttdeci">const void * getBounds() const override</div><div class="ttdef"><b>Definition:</b> <a href="AbstractNode_8cpp_source.html#l00043">AbstractNode.cpp:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab16734e8f2c42ccdc04cac4dd2333256"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geos::index::strtree::AbstractSTRtree::query </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>searchBounds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html">AbstractNode</a> &amp;&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgeos_1_1index_1_1ItemVisitor.html">ItemVisitor</a> &amp;&#160;</td>
          <td class="paramname"><em>visitor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AbstractSTRtree_8cpp_source.html#l00152">152</a> of file <a class="el" href="AbstractSTRtree_8cpp_source.html">AbstractSTRtree.cpp</a>.</p>

<p>References <a class="el" href="classgeos_1_1index_1_1strtree_1_1Boundable.html#abc2553f6281be88e0266a7bf02c566d0">geos::index::strtree::Boundable::getBounds()</a>, <a class="el" href="AbstractNode_8h_source.html#l00052">geos::index::strtree::AbstractNode::getChildBoundables()</a>, and <a class="el" href="classgeos_1_1index_1_1ItemVisitor.html#a4fd666359b2836405b3843d5955ec59d">geos::index::ItemVisitor::visitItem()</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a>&amp; boundables = *(node.getChildBoundables());</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordflow">for</span> (BoundableList::const_iterator i=boundables.begin(), e=boundables.end();</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      i!=e; i++)</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keyword">const</span> Boundable* childBoundable = *i;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a7db78c9982ce34909c6c4c660cefd8b4">getIntersectsOp</a>()-&gt;<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_1_1IntersectsOp.html#a9e45111c25989641db31e5f8458e0753">intersects</a>(childBoundable-&gt;getBounds(), searchBounds)) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    }</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">if</span>(<span class="keyword">const</span> AbstractNode *an=dynamic_cast&lt;const AbstractNode*&gt;(childBoundable))</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    {</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a668b51c0354bee9934ebeca13f68d8b1">query</a>(searchBounds, *an, visitor);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    }</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> ItemBoundable *ib=dynamic_cast&lt;const ItemBoundable *&gt;(childBoundable))</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      visitor.visitItem(ib-&gt;getItem());</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      assert(0); <span class="comment">// unsupported childBoundable type</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a7db78c9982ce34909c6c4c660cefd8b4"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a7db78c9982ce34909c6c4c660cefd8b4">geos::index::strtree::AbstractSTRtree::getIntersectsOp</a></div><div class="ttdeci">virtual IntersectsOp * getIntersectsOp()=0</div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a668b51c0354bee9934ebeca13f68d8b1"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a668b51c0354bee9934ebeca13f68d8b1">geos::index::strtree::AbstractSTRtree::query</a></div><div class="ttdeci">void query(const void *searchBounds, std::vector&lt; void * &gt; &amp;foundItems)</div><div class="ttdoc">Also builds the tree, if necessary. </div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8cpp_source.html#l00124">AbstractSTRtree.cpp:124</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_1_1IntersectsOp_html_a9e45111c25989641db31e5f8458e0753"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_1_1IntersectsOp.html#a9e45111c25989641db31e5f8458e0753">geos::index::strtree::AbstractSTRtree::IntersectsOp::intersects</a></div><div class="ttdeci">virtual bool intersects(const void *aBounds, const void *bBounds)=0</div></div>
<div class="ttc" id="namespacegeos_1_1index_1_1strtree_html_add68ce1c4a60ff15e78bb77f47605dbe"><div class="ttname"><a href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">geos::index::strtree::BoundableList</a></div><div class="ttdeci">std::vector&lt; Boundable * &gt; BoundableList</div><div class="ttdoc">A list of boundables. TODO: use a list. </div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00044">AbstractSTRtree.h:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2c8f57f862629ce9e00bcaa16083dc57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void geos::index::strtree::AbstractSTRtree::query </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>searchBounds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html">AbstractNode</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; void * &gt; *&#160;</td>
          <td class="paramname"><em>matches</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AbstractSTRtree_8cpp_source.html#l00257">257</a> of file <a class="el" href="AbstractSTRtree_8cpp_source.html">AbstractSTRtree.cpp</a>.</p>

<p>References <a class="el" href="classgeos_1_1index_1_1strtree_1_1Boundable.html#abc2553f6281be88e0266a7bf02c566d0">geos::index::strtree::Boundable::getBounds()</a>, <a class="el" href="AbstractNode_8h_source.html#l00052">geos::index::strtree::AbstractNode::getChildBoundables()</a>, and <a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_1_1IntersectsOp.html#a9e45111c25989641db31e5f8458e0753">geos::index::strtree::AbstractSTRtree::IntersectsOp::intersects()</a>.</p>
<div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  assert(node);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a>&amp; vb = *(node-&gt;getChildBoundables());</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  IntersectsOp *io=<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a7db78c9982ce34909c6c4c660cefd8b4">getIntersectsOp</a>();</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="comment">//std::size_t vbsize=vb.size();</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="comment">//cerr&lt;&lt;&quot;AbstractSTRtree::query: childBoundables: &quot;&lt;&lt;vbsize&lt;&lt;endl;</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordflow">for</span>(BoundableList::const_iterator i=vb.begin(), e=vb.end();</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      i!=e; ++i)</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keyword">const</span> Boundable* childBoundable=*i;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">if</span> (!io-&gt;intersects(childBoundable-&gt;getBounds(), searchBounds))</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">if</span>(<span class="keyword">const</span> AbstractNode *an=dynamic_cast&lt;const AbstractNode*&gt;(childBoundable))</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a668b51c0354bee9934ebeca13f68d8b1">query</a>(searchBounds, an, matches);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> ItemBoundable *ib=dynamic_cast&lt;const ItemBoundable *&gt;(childBoundable))</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      matches-&gt;push_back(ib-&gt;getItem());</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      assert(0); <span class="comment">// unsupported childBoundable type</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a7db78c9982ce34909c6c4c660cefd8b4"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a7db78c9982ce34909c6c4c660cefd8b4">geos::index::strtree::AbstractSTRtree::getIntersectsOp</a></div><div class="ttdeci">virtual IntersectsOp * getIntersectsOp()=0</div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a668b51c0354bee9934ebeca13f68d8b1"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a668b51c0354bee9934ebeca13f68d8b1">geos::index::strtree::AbstractSTRtree::query</a></div><div class="ttdeci">void query(const void *searchBounds, std::vector&lt; void * &gt; &amp;foundItems)</div><div class="ttdoc">Also builds the tree, if necessary. </div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8cpp_source.html#l00124">AbstractSTRtree.cpp:124</a></div></div>
<div class="ttc" id="namespacegeos_1_1index_1_1strtree_html_add68ce1c4a60ff15e78bb77f47605dbe"><div class="ttname"><a href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">geos::index::strtree::BoundableList</a></div><div class="ttdeci">std::vector&lt; Boundable * &gt; BoundableList</div><div class="ttdoc">A list of boundables. TODO: use a list. </div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00044">AbstractSTRtree.h:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac245d85d6fd3dad87c2628834e790d72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool geos::index::strtree::STRtree::remove </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgeos_1_1geom_1_1Envelope.html">geom::Envelope</a> *&#160;</td>
          <td class="paramname"><em>itemEnv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes a single item from the tree. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">itemEnv</td><td>the Envelope of the item to remove </td></tr>
    <tr><td class="paramname">item</td><td>the item to remove </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the item was found </dd></dl>

<p>Implements <a class="el" href="classgeos_1_1index_1_1SpatialIndex.html#a70adf500577ec4c6a595d3d26196eb04">geos::index::SpatialIndex</a>.</p>

<p>Definition at line <a class="el" href="STRtree_8h_source.html#l00148">148</a> of file <a class="el" href="STRtree_8h_source.html">STRtree.h</a>.</p>

<p>References <a class="el" href="AbstractSTRtree_8cpp_source.html#l00197">geos::index::strtree::AbstractSTRtree::remove()</a>.</p>

<p>Referenced by <a class="el" href="geos__ts__c_8cpp_source.html#l06558">GEOSSTRtree_remove_r()</a>.</p>
<div class="fragment"><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                                                                {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a3991e1fbf32b906568759c07c48b14da">AbstractSTRtree::remove</a>(itemEnv, item);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  }</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a3991e1fbf32b906568759c07c48b14da"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a3991e1fbf32b906568759c07c48b14da">geos::index::strtree::AbstractSTRtree::remove</a></div><div class="ttdeci">bool remove(const void *searchBounds, AbstractNode &amp;node, void *item)</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8cpp_source.html#l00197">AbstractSTRtree.cpp:197</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6624ee940900d8e316ff39bf72d304b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool geos::index::strtree::AbstractSTRtree::remove </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>itemEnv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Also builds the tree, if necessary. </p>

<p>Definition at line <a class="el" href="AbstractSTRtree_8cpp_source.html#l00183">183</a> of file <a class="el" href="AbstractSTRtree_8cpp_source.html">AbstractSTRtree.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;{</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aead72ce5f94da7b9ecab9191892ed3ea">built</a>) <a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aaa3ef55be879ccced398b802f2975704">build</a>();</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a71f79716bf10c2bcacfa3777dd062d53">itemBoundables</a>-&gt;empty()) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    assert(<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">root</a>-&gt;<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html#ad0469599db24945e043da66c483165ec">getBounds</a>() == <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a7db78c9982ce34909c6c4c660cefd8b4">getIntersectsOp</a>()-&gt;<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_1_1IntersectsOp.html#a9e45111c25989641db31e5f8458e0753">intersects</a>(<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">root</a>-&gt;<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html#ad0469599db24945e043da66c483165ec">getBounds</a>(), searchBounds)) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">remove</span>(searchBounds, *<a class="code" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">root</a>, item);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div><div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a7db78c9982ce34909c6c4c660cefd8b4"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a7db78c9982ce34909c6c4c660cefd8b4">geos::index::strtree::AbstractSTRtree::getIntersectsOp</a></div><div class="ttdeci">virtual IntersectsOp * getIntersectsOp()=0</div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_af48aca2dd2ec8574d2a66b954326b2d1"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#af48aca2dd2ec8574d2a66b954326b2d1">geos::index::strtree::AbstractSTRtree::root</a></div><div class="ttdeci">AbstractNode * root</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00182">AbstractSTRtree.h:182</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_1_1IntersectsOp_html_a9e45111c25989641db31e5f8458e0753"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_1_1IntersectsOp.html#a9e45111c25989641db31e5f8458e0753">geos::index::strtree::AbstractSTRtree::IntersectsOp::intersects</a></div><div class="ttdeci">virtual bool intersects(const void *aBounds, const void *bBounds)=0</div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_a71f79716bf10c2bcacfa3777dd062d53"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a71f79716bf10c2bcacfa3777dd062d53">geos::index::strtree::AbstractSTRtree::itemBoundables</a></div><div class="ttdeci">BoundableList * itemBoundables</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00136">AbstractSTRtree.h:136</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_aaa3ef55be879ccced398b802f2975704"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aaa3ef55be879ccced398b802f2975704">geos::index::strtree::AbstractSTRtree::build</a></div><div class="ttdeci">virtual void build()</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8cpp_source.html#l00056">AbstractSTRtree.cpp:56</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree_html_aead72ce5f94da7b9ecab9191892ed3ea"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#aead72ce5f94da7b9ecab9191892ed3ea">geos::index::strtree::AbstractSTRtree::built</a></div><div class="ttdeci">bool built</div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00135">AbstractSTRtree.h:135</a></div></div>
<div class="ttc" id="classgeos_1_1index_1_1strtree_1_1AbstractNode_html_ad0469599db24945e043da66c483165ec"><div class="ttname"><a href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html#ad0469599db24945e043da66c483165ec">geos::index::strtree::AbstractNode::getBounds</a></div><div class="ttdeci">const void * getBounds() const override</div><div class="ttdef"><b>Definition:</b> <a href="AbstractNode_8cpp_source.html#l00043">AbstractNode.cpp:43</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adf69e9ef45c5490b0a2ffdf3d291b8da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> &gt; geos::index::strtree::STRtree::sortBoundables </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> *&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractSTRtree.html#a7379acefa5353881301a4edfa5b4aff4">geos::index::strtree::AbstractSTRtree</a>.</p>

<p>Definition at line <a class="el" href="STRtree_8cpp_source.html#l00332">332</a> of file <a class="el" href="STRtree_8cpp_source.html">STRtree.cpp</a>.</p>

<p>References <a class="el" href="STRtree_8cpp_source.html#l00040">geos::index::strtree::yComparator()</a>.</p>

<p>Referenced by <a class="el" href="STRtree_8cpp_source.html#l00110">createParentBoundables()</a>.</p>
<div class="fragment"><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;{</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  assert(input);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  std::unique_ptr&lt;BoundableList&gt; output ( <span class="keyword">new</span> <a class="code" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a>(*input) );</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  assert(output-&gt;size() == input-&gt;size());</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  sort(output-&gt;begin(), output-&gt;end(), <a class="code" href="namespacegeos_1_1index_1_1strtree.html#a079362d07c1be1e924d5bf5e08ce1880">yComparator</a>);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">return</span> output;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div><div class="ttc" id="namespacegeos_1_1index_1_1strtree_html_a079362d07c1be1e924d5bf5e08ce1880"><div class="ttname"><a href="namespacegeos_1_1index_1_1strtree.html#a079362d07c1be1e924d5bf5e08ce1880">geos::index::strtree::yComparator</a></div><div class="ttdeci">static bool yComparator(Boundable *a, Boundable *b)</div><div class="ttdef"><b>Definition:</b> <a href="STRtree_8cpp_source.html#l00040">STRtree.cpp:40</a></div></div>
<div class="ttc" id="namespacegeos_1_1index_1_1strtree_html_add68ce1c4a60ff15e78bb77f47605dbe"><div class="ttname"><a href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">geos::index::strtree::BoundableList</a></div><div class="ttdeci">std::vector&lt; Boundable * &gt; BoundableList</div><div class="ttdoc">A list of boundables. TODO: use a list. </div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00044">AbstractSTRtree.h:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab7fe3cf7f7c15672b13769c61ee2970e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> * &gt; * geos::index::strtree::STRtree::verticalSlices </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a> *&#160;</td>
          <td class="paramname"><em>childBoundables</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sliceCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">childBoundables</td><td>Must be sorted by the x-value of the envelope midpoints </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="STRtree_8cpp_source.html#l00165">165</a> of file <a class="el" href="STRtree_8cpp_source.html">STRtree.cpp</a>.</p>

<p>Referenced by <a class="el" href="STRtree_8cpp_source.html#l00110">createParentBoundables()</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;{</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordtype">size_t</span> sliceCapacity = (size_t) ceil((<span class="keywordtype">double</span>)childBoundables-&gt;size() / (double) sliceCount);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  vector&lt;BoundableList*&gt;* slices = <span class="keyword">new</span> vector&lt;BoundableList*&gt;(sliceCount);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordtype">size_t</span> i=0, nchilds=childBoundables-&gt;size();</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j=0; j&lt;sliceCount; j++)</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    (*slices)[j]=<span class="keyword">new</span> <a class="code" href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">BoundableList</a>();</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    (*slices)[j]-&gt;reserve(sliceCapacity);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordtype">size_t</span> boundablesAddedToSlice = 0;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">while</span> (i&lt;nchilds &amp;&amp; boundablesAddedToSlice&lt;sliceCapacity)</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      Boundable *childBoundable=(*childBoundables)[i];</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      ++i;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      (*slices)[j]-&gt;push_back(childBoundable);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      ++boundablesAddedToSlice;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">return</span> slices;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div><div class="ttc" id="namespacegeos_1_1index_1_1strtree_html_add68ce1c4a60ff15e78bb77f47605dbe"><div class="ttname"><a href="namespacegeos_1_1index_1_1strtree.html#add68ce1c4a60ff15e78bb77f47605dbe">geos::index::strtree::BoundableList</a></div><div class="ttdeci">std::vector&lt; Boundable * &gt; BoundableList</div><div class="ttdoc">A list of boundables. TODO: use a list. </div><div class="ttdef"><b>Definition:</b> <a href="AbstractSTRtree_8h_source.html#l00044">AbstractSTRtree.h:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aeeefc3bd447342e9b4be2d8123487644"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgeos_1_1index_1_1strtree_1_1STRtree_1_1STRIntersectsOp.html">STRIntersectsOp</a> geos::index::strtree::STRtree::intersectsOp</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="STRtree_8h_source.html#l00086">86</a> of file <a class="el" href="STRtree_8h_source.html">STRtree.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8384ae96fea39712dbc5f051418d7a52"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t geos::index::strtree::AbstractSTRtree::nodeCapacity</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AbstractSTRtree_8h_source.html#l00233">233</a> of file <a class="el" href="AbstractSTRtree_8h_source.html">AbstractSTRtree.h</a>.</p>

<p>Referenced by <a class="el" href="STRtree_8cpp_source.html#l00315">createNode()</a>, and <a class="el" href="SIRtree_8cpp_source.html#l00069">geos::index::strtree::SIRtree::SIRtree()</a>.</p>

</div>
</div>
<a class="anchor" id="ac8972990d9e6e5c5c43d2d79a02188ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html">AbstractNode</a> *&gt;* geos::index::strtree::AbstractSTRtree::nodes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AbstractSTRtree_8h_source.html#l00184">184</a> of file <a class="el" href="AbstractSTRtree_8h_source.html">AbstractSTRtree.h</a>.</p>

<p>Referenced by <a class="el" href="SIRtree_8cpp_source.html#l00120">geos::index::strtree::SIRtree::createNode()</a>, and <a class="el" href="STRtree_8cpp_source.html#l00315">createNode()</a>.</p>

</div>
</div>
<a class="anchor" id="af48aca2dd2ec8574d2a66b954326b2d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgeos_1_1index_1_1strtree_1_1AbstractNode.html">AbstractNode</a>* geos::index::strtree::AbstractSTRtree::root</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="AbstractSTRtree_8h_source.html#l00182">182</a> of file <a class="el" href="AbstractSTRtree_8h_source.html">AbstractSTRtree.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/vicky/potree/geos/vicky/include/geos/index/strtree/<a class="el" href="STRtree_8h_source.html">STRtree.h</a></li>
<li>/home/vicky/potree/geos/vicky/src/index/strtree/<a class="el" href="STRtree_8cpp_source.html">STRtree.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
